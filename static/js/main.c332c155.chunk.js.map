{"version":3,"sources":["service/token.jsx","service/api.jsx","components/MenuHome.js","service/authentication.jsx","components/FormAuthenticate.js","components/AuthenticatePage.js","components/SearchSchool.js","components/FormAddChild.js","service/snottyBrat.jsx","components/ChildrenList.js","components/PageDeclare.js","App.js","service/school.jsx","reportWebVitals.js","index.js"],"names":["setToken","token","console","log","substr","localStorage","setItem","defaultOptions","baseURL","method","headers","api","axios","create","interceptors","request","use","config","getItem","Authorization","response","res","err","status","removeItem","Error","MenuHome","hasDeclared","setHasDeclared","setIsAuth","isAuth","className","type","onClick","post","then","data","FormAuthenticate","spec","handleChange","handleSubmit","header","htmlFor","id","userId","aria-describedby","placeholder","value","state","username","onChange","passId","autoComplete","password","btnValue","AuthenticatePage","useState","signinUsername","signinPassword","signinState","setSigninState","loginUsername","loginPassword","loginState","setLoginState","signSpec","Object","keys","logSpec","e","target","prevState","preventDefault","catch","error","alert","SearchSchool","handleChangeSchool","passedId","schools","list","name","map","i","FormAddChild","firstName","lastName","child","setChild","school","setSchool","handleChangeInput","schoolObj","find","includes","schoolId","addSnottyBrat","ChildrenList","lists","length","PageDeclare","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","App","contaminated","setContaminated","setSchools","useEffect","get","sick","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c332c155.chunk.js","sourcesContent":["function setToken(token) {\n  if (token) {\n    console.log(`service/token setToken ${token.substr(0, 10)}...`);\n    localStorage.setItem(\"token\", token);\n  }\n}\n\nfunction getToken() {\n  return localStorage.getItem(\"token\");\n}\n\nfunction removeToken() {\n  localStorage.removeItem(\"token\");\n}\n\nexport { setToken, getToken, removeToken };\n","import axios from \"axios\";\n\nimport { getToken, removeToken } from \"./token\";\n\n// TODO : Check Bearer token with nasri\n\nconst REACT_APP_API_BASE_URL = \"https://declare-ton-morveux.herokuapp.com/\";\n\nconst defaultOptions = {\n  baseURL: REACT_APP_API_BASE_URL,\n  method: \"get\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\nconst api = axios.create(defaultOptions);\n\napi.interceptors.request.use((config) => {\n  const token = getToken();\n  console.log(`interceptors request with token ${token}`);\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  (res) => {\n    console.log(\"interceptors response : \", res);\n    return res;\n  },\n  (err) => {\n    if (err.response.status === 401) {\n      removeToken();\n      throw new Error(`Invalid token`);\n    }\n    throw err;\n  }\n);\n\nexport default api;\n","import { loggingOut } from \"../service/authentication\";\n\nfunction MenuHome({ hasDeclared, setHasDeclared, setIsAuth, isAuth }) {\n  const handleLogout = () => {\n    loggingOut().then((response) => setIsAuth(response.data));\n  };\n\n  return (\n    <>\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div className=\"container-fluid\">\n          <span className=\"navbar-brand\">DtM Logo</span>\n          <button\n            className=\"btn btn-outline-success\"\n            type=\"submit\"\n            onClick={() => setHasDeclared(!hasDeclared)}\n          >\n            Déclarez un enfant\n          </button>\n          {isAuth && (\n            <button\n              className=\"btn btn-outline-warning\"\n              type=\"submit\"\n              onClick={handleLogout}\n            >\n              Se déconnecter\n            </button>\n          )}\n        </div>\n      </nav>\n    </>\n  );\n}\n\nexport default MenuHome;\n","import api from \"./api\";\nimport { setToken } from \"./token\";\n\nfunction login(username, password) {\n  return api\n    .post(`authenticate`, {\n      username: username,\n      password: password,\n    })\n    .then((response) => {\n      const token = response.data.token;\n      setToken(token);\n      return token;\n    });\n}\n\nfunction register(username, password) {\n  return api\n    .post(`register`, {\n      username: username,\n      password: password,\n    })\n    .then((response) => {\n      const token = response.data.token;\n      setToken(token);\n      return token;\n    });\n}\n\nfunction isAuthenticated() {\n  return api.get(`isAuthenticated`).then((response) => response);\n}\nfunction loggingOut() {\n  return api.post(`logout`);\n}\n\nexport { login, register, isAuthenticated, loggingOut };\n","function FormAuthenticate({ spec, handleChange, handleSubmit }) {\n  return (\n    <div className=\"col-sm\">\n      <h3>{spec.header}</h3>\n      <form>\n        <div className=\"form-group text-left\">\n          <label htmlFor=\"exampleInputEmail1\">Nom d'utilisateur</label>\n          <input\n            type=\"username\"\n            className=\"form-control\"\n            id={spec.userId}\n            aria-describedby=\"usernameHelp\"\n            placeholder=\"Entrez votre nom d'utilisateur\"\n            value={spec.state.username}\n            onChange={handleChange}\n          />\n          <small id=\"usernameHelp\" className=\"form-text text-muted\">\n            Nom d'utilisateur (pas l'email)\n          </small>\n        </div>\n        <div className=\"form-group text-left\">\n          <label htmlFor=\"exampleInputPassword1\">Mot de passe</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id={spec.passId}\n            placeholder=\"Entrez votre mot de passe\"\n            autoComplete=\"new-password\"\n            value={spec.state.password}\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"form-check\"></div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary btn-block\"\n          onClick={handleSubmit}\n        >\n          {spec.btnValue}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default FormAuthenticate;\n","import { useState } from \"react\";\nimport { register, login } from \"../service/authentication\";\n\nimport FormAuthenticate from \"./FormAuthenticate\";\n\nfunction AuthenticatePage({ setHasDeclared, hasDeclared }) {\n  const [signinState, setSigninState] = useState({\n    signinUsername: \"\",\n    signinPassword: \"\",\n  });\n\n  const [loginState, setLoginState] = useState({\n    loginUsername: \"\",\n    loginPassword: \"\",\n  });\n\n  const handleChangeSignin = (e) => {\n    const { id, value } = e.target;\n    setSigninState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleChangeLogin = (e) => {\n    const { id, value } = e.target;\n    setLoginState((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleSubmitSignin = (e) => {\n    e.preventDefault();\n    const { signinUsername, signinPassword } = signinState;\n    register(signinUsername, signinPassword)\n      .then(\n        (response) => {\n          // console.log(`You are connected with token : ${response.token}`);\n          setHasDeclared(!hasDeclared);\n          console.log(response);\n        },\n        () => console.log(\"already taken\")\n      )\n      .catch((error) => alert(`Sorry, there was an error`));\n  };\n\n  const handleSubmitLogin = (e) => {\n    e.preventDefault();\n    const { loginUsername, loginPassword } = loginState;\n    login(loginUsername, loginPassword)\n      .then((token) => {\n        // console.log(`You are connected with token : ${token}`);\n        setHasDeclared(!hasDeclared);\n      })\n      .catch((error) => {\n        alert(`Sorry, there was an error`);\n        console.log(error);\n      });\n  };\n\n  const signSpec = {\n    header: \"Créer un compte\",\n    userId: Object.keys(signinState)[0],\n    state: signinState,\n    passId: Object.keys(signinState)[1],\n    btnValue: \"Créer un compte\",\n  };\n\n  const logSpec = {\n    header: \"Se connecter\",\n    userId: Object.keys(loginState)[0],\n    state: loginState,\n    passId: Object.keys(loginState)[1],\n    btnValue: \"Se connecter\",\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-sm-6\">\n          <FormAuthenticate\n            spec={signSpec}\n            handleChange={handleChangeSignin}\n            handleSubmit={handleSubmitSignin}\n          />\n        </div>\n        <div className=\"col-sm-6\">\n          <FormAuthenticate\n            spec={logSpec}\n            handleChange={handleChangeLogin}\n            handleSubmit={handleSubmitLogin}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AuthenticatePage;\n","function SearchSchool({ handleChangeSchool, passedId, schools }) {\n  // const schoolLists = [\n  //   {\n  //     school: \"some school\",\n  //     id: 0,\n  //   },\n  //   {\n  //     school: \"the other one\",\n  //     id: 1,\n  //   },\n  //   {\n  //     school: \"the other other school\",\n  //     id: 2,\n  //   },\n  // ];\n\n  return (\n    <>\n      <label htmlFor={passedId}>Choisissez une école :</label>\n      <input\n        list=\"school-lists\"\n        id={passedId}\n        name=\"school-choice\"\n        onChange={handleChangeSchool}\n        placeholder=\"Cliquez ou entrez une école\"\n      />\n\n      <datalist id=\"school-lists\">\n        {schools.map((e, i) => (\n          <option key={e.id} value={e.name} />\n        ))}\n      </datalist>\n    </>\n  );\n}\n\nexport default SearchSchool;\n","import SearchSchool from \"./SearchSchool\";\nimport { useState } from \"react\";\n\nimport { addSnottyBrat } from \"../service/snottyBrat\";\n\nfunction FormAddChild({ schools }) {\n  const [child, setChild] = useState({ firstName: \"\", lastName: \"\" });\n  const [school, setSchool] = useState();\n\n  const handleChangeSchool = (e) => {\n    setSchool(e.target.value);\n  };\n\n  const handleChangeInput = (e) => {\n    const { id, value } = e.target;\n    setChild((prevState) => ({\n      ...prevState,\n      [id]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { firstName, lastName } = child;\n    const schoolObj = schools.find((e) => e.name.includes(school));\n    console.log(firstName, lastName, schoolObj.id);\n    addSnottyBrat(firstName, lastName, schoolObj.id).then((response) =>\n      console.log(response.data)\n    );\n  };\n\n  return (\n    <>\n      <form>\n        <div className=\"form-group text-left\">\n          <label>Prénom du morveux :</label>\n          <input id=\"firstName\" onChange={handleChangeInput} />\n        </div>\n        <div className=\"form-group text-left\">\n          <label>Nom de famille du morveux :</label>\n          <input id=\"lastName\" onChange={handleChangeInput} />\n        </div>\n        <div className=\"form-group text-left\">\n          <SearchSchool\n            passedId=\"add-child-shool-list\"\n            handleChangeSchool={handleChangeSchool}\n            schools={schools}\n          />\n        </div>\n        <div className=\"form-check\"></div>\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={handleSubmit}\n        >\n          Ajoutez\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default FormAddChild;\n","import api from \"./api\";\n\nfunction allSnottyBrat() {\n  return api.get(\"api/children/sick\").then((response) => response);\n}\n\nfunction addSnottyBrat({ firstName, lastName, schoolId }) {\n  return api\n    .post(\"api/children\", {\n      firstName,\n      lastName,\n      school: { id: schoolId },\n    })\n    .then((response) => response);\n}\n\nexport { allSnottyBrat, addSnottyBrat };\n","function ChildrenList({ setHasDeclared, hasDeclared }) {\n  const lists = [\"toto\", \"bobby\"];\n  return (\n    <>\n      {lists.map((e, i) => (\n        <div key={i} className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"child\"\n            id={e}\n          />\n          <label className=\"form-check-label\" htmlFor={e}>\n            {e}\n          </label>\n        </div>\n      ))}\n      <button\n        className=\"btn btn-primary\"\n        onClick={() => setHasDeclared(!hasDeclared)}\n      >\n        Mettre à jour l'état {lists.length > 1 ? \"des enfants\" : \"de l'enfant\"}\n      </button>\n    </>\n  );\n}\n\nexport default ChildrenList;\n","import FormAddChild from \"./FormAddChild\";\nimport ChildrenList from \"./ChildrenList\";\n\nfunction PageDeclare({ setHasDeclared, hasDeclared, schools }) {\n  return (\n    <div className=\"\">\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={() => setHasDeclared(!hasDeclared)}\n      >\n        Retour\n      </button>\n      <div className=\"accordion\" id=\"accordionExample\">\n        <div className=\"accordion-item\">\n          <h2 className=\"accordion-header\" id=\"headingOne\">\n            <button\n              className=\"accordion-button\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#collapseOne\"\n              aria-expanded=\"false\"\n              aria-controls=\"collapseOne\"\n            >\n              Ajouter un enfant\n            </button>\n          </h2>\n          <div\n            id=\"collapseOne\"\n            className=\"accordion-collapse collapse show\"\n            aria-labelledby=\"headingOne\"\n            data-bs-parent=\"#accordionExample\"\n          >\n            <div className=\"accordion-body\">\n              <FormAddChild schools={schools} />\n            </div>\n          </div>\n        </div>\n        <div className=\"accordion-item\">\n          <h2 className=\"accordion-header\" id=\"headingTwo\">\n            <button\n              className=\"accordion-button collapsed\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target=\"#collapseTwo\"\n              aria-expanded=\"true\"\n              aria-controls=\"collapseTwo\"\n            >\n              Liste d'enfants\n            </button>\n          </h2>\n          <div\n            id=\"collapseTwo\"\n            className=\"accordion-collapse collapse\"\n            aria-labelledby=\"headingTwo\"\n            data-bs-parent=\"#accordionExample\"\n          >\n            <div className=\"accordion-body\">\n              <ChildrenList\n                setHasDeclared={setHasDeclared}\n                hasDeclared={hasDeclared}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PageDeclare;\n","import MenuHome from \"./components/MenuHome\";\nimport AuthenticatePage from \"./components/AuthenticatePage\";\nimport SearchSchool from \"./components/SearchSchool\";\nimport PageDeclare from \"./components/PageDeclare\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { isAuthenticated } from \"./service/authentication\";\nimport { getSchoolList } from \"./service/school\";\nimport { allSnottyBrat } from \"./service/snottyBrat\";\n\nfunction App() {\n  const [hasDeclared, setHasDeclared] = useState(false);\n  const [contaminated, setContaminated] = useState(0);\n  const [schools, setSchools] = useState([]);\n  const [school, setSchool] = useState();\n  const [isAuth, setIsAuth] = useState();\n\n  const handleChangeSchool = (e) => {\n    const { id, value } = e.target;\n    setSchool(() => ({ [id]: value }));\n    console.log(e.target);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // sendToBack\n    console.log(\"school : \", school);\n  };\n\n  useEffect(() => {\n    isAuthenticated().then((response) => setIsAuth(response.data));\n\n    getSchoolList().then((response) => setSchools(response.data));\n    allSnottyBrat().then((response) => setContaminated(response.data.sick));\n  }, []);\n\n  if (hasDeclared && !isAuth) {\n    return (\n      <AuthenticatePage\n        setHasDeclared={setHasDeclared}\n        hasDeclared={hasDeclared}\n      />\n    );\n  }\n  if (hasDeclared && isAuth) {\n    return (\n      <PageDeclare\n        setHasDeclared={setHasDeclared}\n        hasDeclared={hasDeclared}\n        schools={schools}\n      />\n    );\n  }\n\n  return (\n    <div className=\"contaier-fluid\">\n      <MenuHome\n        setHasDeclared={setHasDeclared}\n        setIsAuth={setIsAuth}\n        isAuth={isAuth}\n      />\n      <h1 className=\"text-center mb-3\">\n        Bienvenue sur <br /> Déclare ton Morveux\n      </h1>\n      <h2 className=\"text-center mb-3\">\n        Le total de morveux est de : {contaminated}\n      </h2>\n      <form>\n        <div className=\"form-group text-left\">\n          <SearchSchool\n            passedId=\"school-choice\"\n            handleChangeSchool={handleChangeSchool}\n            schools={schools}\n          />\n        </div>\n        {/* <div className=\"form-check\"></div> */}\n        <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={handleSubmit}\n        >\n          Recherchez\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n","import api from \"./api\";\n\nfunction getSchoolList() {\n  return api.get(\"/api/schools\").then((response) => response);\n}\n\nexport { getSchoolList };\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}